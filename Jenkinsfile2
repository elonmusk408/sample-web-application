#!/usr/bin/env groovy

@Library('shared-library@master') _ //master or whatever branch

pipeline{

      agent any
        
        stages{

              stage('maven build'){
                  steps{
                      script{
		    	                sh "mvn clean install"
                      	  }
               	     }  
                 }	
                 
            stage('sonar') {
                       steps {
                         withSonarQubeEnv('SonarQube') { //there must be a tool named 'sonar' configured on Jenkins (/jenkins/configureTools)
                        sh 'mvn sonar:sonar' //publish project quality on sonar
}
}
}
			 stage ('Sonar') {
                    steps {
                        testsonar()	
		    }	           
           }	       	     	         
}
}
